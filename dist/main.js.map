{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./ToyReact.js","webpack:///./main.js"],"names":["childrenSymbol","Symbol","ElementWrapper","type","props","Object","create","children","name","value","vchild","push","range","deleteContents","element","document","createElement","match","eventName","RegExp","$1","replace","s","toLowerCase","addEventListener","setAttribute","child","createRange","length","setStartAfter","lastChild","setEndAfter","setStart","setEnd","mountTo","insertNode","TextWrapper","content","root","createTextNode","Component","vdom","oldVdom","isSameNode","node1","node2","toString","JSON","stringify","keys","isSameTree","i","newTree","oldTree","state","merge","oldState","newState","p","Array","update","constructor","render","ToyReact","attributes","insertChildren","String","appendChild","Square","onClick","Board","squares","renderSquare","Game","history","fill","stepNumber","xIsNext","slice","current","calculateWinner","setState","concat","step","winner","moves","map","move","desc","jumpTo","status","handleClick","body","lines","a","b","c"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./main.js\");\n","// 实DOM\r\nlet childrenSymbol = Symbol('children');\r\nclass ElementWrapper {\r\n  constructor(type) {\r\n    this.type = type;\r\n    this.props = Object.create(null);\r\n    this[childrenSymbol] = [];\r\n    this.children = [];\r\n  }\r\n\r\n  setAttribute(name, value) {\r\n    this.props[name] = value;\r\n  }\r\n\r\n  appendChild(vchild) {\r\n    this[childrenSymbol].push(vchild);\r\n    this.children.push(vchild);\r\n  }\r\n\r\n  get vdom() {\r\n    return this;\r\n  }\r\n\r\n  mountTo(range) {\r\n    this.range = range;\r\n    range.deleteContents();\r\n\r\n    let element = document.createElement(this.type);\r\n    for (let name in this.props) {\r\n      if (name.match(/^on([\\s\\S]+)$/)) {\r\n        const eventName = RegExp.$1.replace(/^[\\s\\S]/, s => s.toLowerCase());\r\n        element.addEventListener(eventName, this.props[name]);\r\n      } else if (name === 'className') {\r\n        element.setAttribute('class', this.props[name]);\r\n      } else {\r\n        element.setAttribute(name, this.props[name]);\r\n      }\r\n    }\r\n\r\n    for (let child of this.children) {\r\n      let range = document.createRange();\r\n      if (element.children.length) {\r\n        range.setStartAfter(element.lastChild);\r\n        range.setEndAfter(element.lastChild);\r\n      } else {\r\n        range.setStart(element, 0);\r\n        range.setEnd(element, 0);\r\n      }\r\n      child.mountTo(range);\r\n    }\r\n    \r\n    range.insertNode(element);\r\n  }\r\n}\r\n// 实DOM\r\nclass TextWrapper {\r\n  constructor(content) {\r\n    this.root = document.createTextNode(content);\r\n    this.type = '#text';\r\n    this.children = [];\r\n    this.props = Object.create(null);\r\n  }\r\n\r\n  get vdom() {\r\n    return this;\r\n  }\r\n  \r\n  mountTo(range) {\r\n    this.range = range;\r\n    range.deleteContents();\r\n    range.insertNode(this.root);\r\n  }\r\n}\r\n\r\n// 虚DOM\r\nexport class Component {\r\n  constructor(type) {\r\n    this.children = [];\r\n    this.props = Object.create(null);\r\n  }\r\n\r\n  get type() {\r\n    return this.constructor.name;\r\n  }\r\n\r\n  get vdom() {\r\n    return this.render().vdom;\r\n  }\r\n\r\n  setAttribute(name, value) {\r\n    this.props[name] = value;\r\n    this[name] = value;\r\n  }\r\n\r\n  appendChild(child) {\r\n    this.children.push(child);\r\n  }\r\n\r\n  update() {\r\n    let vdom = this.vdom;\r\n    if (this.oldVdom) {\r\n      let isSameNode = (node1, node2) => {\r\n        if (!node1 || !node2) return;\r\n        if (node1.type !== node2.type) {\r\n          return false;\r\n        }\r\n        for (let name in node1.props) {\r\n          if (typeof node1.props[name] === 'function' && typeof node2.props[name] === 'function' && node1.props[name].toString() === node2.props[name].toString()) {\r\n            continue;\r\n          }\r\n          if (typeof node1.props[name] === 'object' && typeof node2.props[name] === 'object' && JSON.stringify(node1.props[name]) === JSON.stringify(node2.props[name])) {\r\n            continue;\r\n          }\r\n          if (node1.props[name] !== node2.props[name]) {\r\n            return false;\r\n          }\r\n        }\r\n        if (Object.keys(node1.props).length !== Object.keys(node2.props).length) {\r\n          return false;\r\n        }\r\n        return true;\r\n      }\r\n\r\n      let isSameTree = (node1, node2) => {\r\n        if (!isSameNode(node1, node2)) {\r\n          return false;\r\n        }\r\n        if (node1.children.length !== node2.children.length) {\r\n          return false;\r\n        }\r\n        for (let i = 0; i < node1.children.length; i++) {\r\n          if (!isSameTree(node1.children[i], node2.children[i])) {\r\n            return false;\r\n          }\r\n        }\r\n        return true;\r\n      }\r\n\r\n      let replace = (newTree, oldTree) => {\r\n        if (isSameTree(oldTree, newTree)) {\r\n          return;\r\n        }\r\n        if (!isSameNode(oldTree, newTree)) {\r\n          newTree.mountTo(oldTree.range);\r\n        } else {\r\n          for (let i = 0; i < newTree.children.length; i++) {\r\n            replace(newTree.children[i], oldTree.children[i]);\r\n          }\r\n        }\r\n      }\r\n\r\n      replace(vdom, this.oldVdom);\r\n    } else {\r\n      vdom.mountTo(this.range);\r\n    }\r\n    this.oldVdom = vdom;\r\n  }\r\n\r\n  setState(state) {\r\n    let merge = (oldState, newState) => {\r\n      for (let p in newState) {\r\n        if (typeof newState[p] === 'object' && newState[p] !== null) {\r\n          if (typeof oldState[p] !== 'object') {\r\n            if (newState[p] instanceof Array) {\r\n              oldState[p] = [];\r\n            } else {\r\n              oldState[p] = {};\r\n            }\r\n          }\r\n          merge(oldState[p], newState[p]);\r\n        } else {\r\n          oldState[p] = newState[p];\r\n        }\r\n      }\r\n    };\r\n    if (!this.state && state) {\r\n      this.state = {};\r\n    }\r\n    merge(this.state, state);\r\n    this.update();\r\n  }\r\n\r\n  mountTo(range) {\r\n    this.range = range;\r\n    this.update();\r\n  }\r\n}\r\n\r\nexport let ToyReact = {\r\n  createElement(type, attributes, ...children) {\r\n    let element;\r\n    if (typeof type === 'string') {\r\n      element = new ElementWrapper(type);\r\n    } else {\r\n      element = new type;\r\n    }\r\n    for (let name in attributes) {\r\n      element.setAttribute(name, attributes[name]);\r\n    }\r\n    let insertChildren = (children) => {\r\n      for (let child of children) {\r\n        if (typeof child === 'object' && child instanceof Array) {\r\n          insertChildren(child);\r\n        } else {\r\n          if (child === null || child === void 0) {\r\n            child = '';\r\n          }\r\n          if (!(child instanceof Component)\r\n          && !(child instanceof TextWrapper)\r\n          && !(child instanceof ElementWrapper)\r\n          ) {\r\n            child = String(child);\r\n          }\r\n          if (typeof child === 'string') {\r\n            child = new TextWrapper(child);\r\n          }\r\n          element.appendChild(child);\r\n        }\r\n      }\r\n    }\r\n    insertChildren(children);\r\n    return element;\r\n  },\r\n  render(vdom, element) {\r\n    let range = document.createRange();\r\n    if (element.children.length) {\r\n      range.setStartAfter(element.lastChild);\r\n      range.setEndAfter(element.lastChild);\r\n    } else {\r\n      range.setStart(element, 0);\r\n      range.setEnd(element, 0);\r\n    }\r\n    vdom.mountTo(range);\r\n  },\r\n}\r\n","import { ToyReact, Component } from './ToyReact';\r\n\r\nclass Square extends Component {\r\n  render() {\r\n    return (\r\n      <button className=\"square\" onClick={this.props.onClick}>\r\n        {this.props.value}\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nclass Board extends Component {\r\n  renderSquare(i) {\r\n    return (\r\n      <Square\r\n        value={this.props.squares[i]}\r\n        onClick={() => this.props.onClick(i)}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"board-row\">\r\n          {this.renderSquare(0)}\r\n          {this.renderSquare(1)}\r\n          {this.renderSquare(2)}\r\n        </div>\r\n        <div className=\"board-row\">\r\n          {this.renderSquare(3)}\r\n          {this.renderSquare(4)}\r\n          {this.renderSquare(5)}\r\n        </div>\r\n        <div className=\"board-row\">\r\n          {this.renderSquare(6)}\r\n          {this.renderSquare(7)}\r\n          {this.renderSquare(8)}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass Game extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      history: [\r\n        {\r\n          squares: Array(9).fill(null)\r\n        }\r\n      ],\r\n      stepNumber: 0,\r\n      xIsNext: true\r\n    };\r\n  }\r\n\r\n  handleClick(i) {\r\n    const history = this.state.history.slice(0, this.state.stepNumber + 1);\r\n    const current = history[history.length - 1];\r\n    const squares = current.squares.slice();\r\n    if (calculateWinner(squares) || squares[i]) {\r\n      return;\r\n    }\r\n    squares[i] = this.state.xIsNext ? \"X\" : \"O\";\r\n    this.setState({\r\n      history: history.concat([\r\n        {\r\n          squares: squares\r\n        }\r\n      ]),\r\n      stepNumber: history.length,\r\n      xIsNext: !this.state.xIsNext\r\n    });\r\n  }\r\n\r\n  jumpTo(step) {\r\n    this.setState({\r\n      stepNumber: step,\r\n      xIsNext: (step % 2) === 0\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const history = this.state.history;\r\n    const current = history[this.state.stepNumber];\r\n    const winner = calculateWinner(current.squares);\r\n\r\n    const moves = history.map((step, move) => {\r\n      const desc = move ?\r\n        'Go to move #' + move :\r\n        'Go to game start';\r\n      return (\r\n        <li key={move}>\r\n          <button onClick={() => this.jumpTo(move)}>{desc}</button>\r\n        </li>\r\n      );\r\n    });\r\n\r\n    let status;\r\n    if (winner) {\r\n      status = \"Winner: \" + winner;\r\n    } else {\r\n      status = \"Next player: \" + (this.state.xIsNext ? \"X\" : \"O\");\r\n    }\r\n\r\n    return (\r\n      <div className=\"game\">\r\n        <div className=\"game-board\">\r\n          <Board\r\n            squares={current.squares}\r\n            onClick={i => this.handleClick(i)}\r\n          />\r\n        </div>\r\n        <div className=\"game-info\">\r\n          <div>{status}</div>\r\n          <ol>{moves}</ol>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// ========================================\r\n\r\nToyReact.render(\r\n  <Game />,\r\n  document.body\r\n);\r\n// ReactDOM.render(<Game />, document.getElementById(\"root\"));\r\n\r\nfunction calculateWinner(squares) {\r\n  const lines = [\r\n    [0, 1, 2],\r\n    [3, 4, 5],\r\n    [6, 7, 8],\r\n    [0, 3, 6],\r\n    [1, 4, 7],\r\n    [2, 5, 8],\r\n    [0, 4, 8],\r\n    [2, 4, 6]\r\n  ];\r\n  for (let i = 0; i < lines.length; i++) {\r\n    const [a, b, c] = lines[i];\r\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\r\n      return squares[a];\r\n    }\r\n  }\r\n  return null;\r\n}"],"sourceRoot":""}